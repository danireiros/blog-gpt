import{r as I,i as F,T as j,x as E,p as u,o as n,c as O,w as i,b as s,d as l,a as r,t as f,g,e as d,k as p,q as v,f as y,F as h,s as b,O as V}from"./app-BjkeQK_V.js";import{_ as P}from"./AppLayout-BfpUR-_8.js";import{_ as N}from"./FormSection-CXU-OmPd.js";import{_ as z}from"./InputLabel-Brj-c5Jh.js";import{_ as H}from"./TextInput-CDfIOJxr.js";import{_ as q}from"./InputError-tBUpyiUA.js";import{_ as R}from"./PrimaryButton-DuRU8ejc.js";import{C}from"./ckeditor-DGuore9L.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-BQJW1pNG.js";import"./SectionTitle-U3Qf1A5Q.js";I(null);const J={methods:{formatDate(m){const e=new Date(m);let a={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};return new Intl.DateTimeFormat(void 0,a).format(e)}},components:{Link:F,AppLayout:P,FormSection:N,InputLabel:z,TextInput:H,InputError:q,PrimaryButton:R,ClassicEditor:C},data(){return{editor:C,editorData:"<p>Content of the editor.</p>",editorConfig:{}}},props:{errors:Object,post:{type:Object,default:{id:"",title:"",slug:"",author_id:"",category_id:"",description:"",text:"",posted:"",type:"",created_at:"",image:"",formImage:""}},authors:Object,categories:Object,enumPosted:Array,enumType:Array},setup(m){const e=j({id:m.post.id,title:m.post.title,slug:m.post.slug,author_id:m.post.author_id,category_id:m.post.category_id,description:m.post.description,text:m.post.text,posted:m.post.posted,type:m.post.type,image:""}),a=I([]);function o(){e.id==""?V.post(route("post.store",e.id),{title:e.title,slug:e.slug,author_id:e.author_id,category_id:e.category_id,description:e.description,text:e.text,posted:e.posted,type:e.type,image:e.image}):V.post(route("post.update",e.id),{_method:"put",title:e.title,slug:e.slug,author_id:e.author_id,category_id:e.category_id,description:e.description,text:e.text,posted:e.posted,type:e.type,image:e.image})}return E(()=>a,x=>{},{deep:!0}),{form:e,formImage:a,submit:o}}},K={key:0,class:"w-full"},Q={class:"mb-2 text-xl font-semibold text-gray-900 dark:text-white"},W={key:1},X={key:2},Y={key:0},Z={key:1},$={key:0,class:"col-span-6"},ee={class:"max-w-64 rounded-md border p-1 my-2"},te=["src"],oe=["href"],se={class:"col-span-6"},re={class:"col-span-6"},ae={class:"col-span-6"},ne=["value","selected"],ie={class:"col-span-6"},le=["value","selected"],de={class:"col-span-6 no-tailwindcss-base"},me={class:"col-span-6"},ce={class:"col-span-6"},ue=["value"],_e=["id","name","value"],fe=["for"],ge=r("br",null,null,-1),pe={class:"col-span-6"},ye=["value"],he=["id","name","value"],xe=["for"],ke=r("br",null,null,-1),we={key:1,class:"col-span-6"},ve=r("span",null,[r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 inline"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15m0-3-3-3m0 0-3 3m3-3V15"})]),d(" Selecciona una imagen")],-1),be={key:0,class:"border p-1 pl-5"},Ve=r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 inline"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 0 1 9 9v.375M10.125 2.25A3.375 3.375 0 0 1 13.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 0 1 3.375 3.375M9 15l2.25 2.25L15 12"})],-1),Ce={key:2,class:"col-span-6"},Ie={key:0},Se=r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 inline"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})],-1),Te={key:1};function Ae(m,e,a,o,x,S){const c=u("InputLabel"),_=u("InputError"),k=u("TextInput"),T=u("ckeditor"),A=u("o-button"),B=u("o-upload"),D=u("o-field"),L=u("PrimaryButton"),M=u("FormSection"),U=u("AppLayout");return n(),O(U,null,{default:i(()=>[s(M,{onSubmitted:o.submit,class:"max-w-7xl mx-auto py-10 sm:px-6 lg:px-8"},{title:i(()=>[o.form.title?(n(),l("div",K,[r("h2",Q,f(o.form.title),1)])):g("",!0),o.form.id==""?(n(),l("span",W,"Crear ")):(n(),l("span",X,"Actualizar ")),d("post ")]),description:i(()=>[o.form.id==""?(n(),l("span",Y,"Crear ")):(n(),l("span",Z,"Actualizar ")),d("un post para el blog ")]),form:i(()=>[a.post.image?(n(),l("div",$,[s(c,{for:""},{default:i(()=>[d("Imagen actual")]),_:1}),r("div",ee,[r("img",{src:"/image/post/"+a.post.image},null,8,te),r("a",{href:"/image/post/"+a.post.image,download:"",class:"hover:text-white inline-flex items-center px-4 py-2 bg-gray-800 dark:bg-gray-200 border border-transparent rounded-md font-semibold text-xs text-white dark:text-gray-800 uppercase tracking-widest hover:bg-gray-700 dark:hover:bg-white focus:bg-gray-700 dark:focus:bg-white active:bg-gray-900 dark:active:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition ease-in-out duration-150 mt-1"},"Descargar",8,oe)])])):g("",!0),r("div",se,[s(c,{for:""},{default:i(()=>[d("Titulo")]),_:1}),s(_,{message:a.errors.title},null,8,["message"]),s(k,{class:"w-full",type:"text",modelValue:o.form.title,"onUpdate:modelValue":e[0]||(e[0]=t=>o.form.title=t)},null,8,["modelValue"])]),r("div",re,[s(c,{for:""},{default:i(()=>[d("Slug")]),_:1}),s(_,{message:a.errors.slug},null,8,["message"]),s(k,{class:"w-full",type:"text",modelValue:o.form.slug,"onUpdate:modelValue":e[1]||(e[1]=t=>o.form.slug=t)},null,8,["modelValue"])]),r("div",ae,[s(c,{for:""},{default:i(()=>[d("Autor")]),_:1}),s(_,{message:a.errors.author_id},null,8,["message"]),p(r("select",{class:"rounded-md w-full border-gray-300","onUpdate:modelValue":e[2]||(e[2]=t=>o.form.author_id=t)},[(n(!0),l(h,null,y(a.authors,t=>(n(),l("option",{key:t.id,value:t.id,selected:a.post.author_id===t.id},f(t.name),9,ne))),128))],512),[[v,o.form.author_id]])]),r("div",ie,[s(c,{for:""},{default:i(()=>[d("Categoría")]),_:1}),s(_,{message:a.errors.category_id},null,8,["message"]),p(r("select",{class:"rounded-md w-full border-gray-300","onUpdate:modelValue":e[3]||(e[3]=t=>o.form.category_id=t)},[(n(!0),l(h,null,y(a.categories,t=>(n(),l("option",{key:t.id,value:t.id,selected:a.post.category_id===t.id},f(t.title),9,le))),128))],512),[[v,o.form.category_id]])]),r("div",de,[s(c,{value:"Text"}),s(_,{message:a.errors.text},null,8,["message"]),s(T,{editor:x.editor,modelValue:o.form.text,"onUpdate:modelValue":e[4]||(e[4]=t=>o.form.text=t),config:x.editorConfig},null,8,["editor","modelValue","config"])]),r("div",me,[s(c,{for:""},{default:i(()=>[d("Descripción")]),_:1}),s(_,{message:a.errors.description},null,8,["message"]),s(k,{class:"w-full",type:"text",modelValue:o.form.description,"onUpdate:modelValue":e[5]||(e[5]=t=>o.form.description=t)},null,8,["modelValue"])]),r("div",ce,[s(c,{for:""},{default:i(()=>[d("Estado")]),_:1}),s(_,{message:a.errors.posted},null,8,["message"]),(n(!0),l(h,null,y(a.enumPosted,t=>(n(),l("div",{key:t,value:t},[p(r("input",{type:"radio",id:t,name:t,value:t,"onUpdate:modelValue":e[6]||(e[6]=w=>o.form.posted=w)},null,8,_e),[[b,o.form.posted]]),r("label",{for:t,class:"ml-3"},f(t),9,fe),ge],8,ue))),128))]),r("div",pe,[s(c,{for:""},{default:i(()=>[d("Tipo")]),_:1}),s(_,{message:a.errors.type},null,8,["message"]),(n(!0),l(h,null,y(a.enumType,t=>(n(),l("div",{key:t,value:t},[p(r("input",{type:"radio",id:t,name:t,value:t,"onUpdate:modelValue":e[7]||(e[7]=w=>o.form.type=w)},null,8,he),[[b,o.form.type]]),r("label",{for:t,class:"ml-3"},f(t),9,xe),ke],8,ye))),128))]),o.form.id!=""?(n(),l("div",we,[s(c,{for:""},{default:i(()=>[d("Imagen")]),_:1}),s(_,{message:a.errors.image},null,8,["message"]),r("section",null,[s(D,{class:"file"},{default:i(()=>[s(B,{modelValue:o.form.image,"onUpdate:modelValue":e[8]||(e[8]=t=>o.form.image=t)},{default:i(({onclick:t})=>[s(A,{tag:"button",variant:"primary",onClick:t},{default:i(()=>[ve]),_:2},1032,["onClick"])]),_:1},8,["modelValue"]),o.form.image.name!=""?(n(),l("span",be,[d(f(o.form.image.name)+" ",1),Ve])):g("",!0)]),_:1})])])):g("",!0),a.post.created_at?(n(),l("div",Ce,[s(c,{for:""},{default:i(()=>[d("Fecha de creación")]),_:1}),r("p",null,f(S.formatDate(a.post.created_at)),1)])):g("",!0)]),actions:i(()=>[s(L,{class:"mt-1",type:"submit"},{default:i(()=>[o.form.id==""?(n(),l("span",Ie,[d("Siguiente "),Se])):(n(),l("span",Te,"Actualizar post"))]),_:1})]),_:1},8,["onSubmitted"])]),_:1})}const ze=G(J,[["render",Ae]]);export{ze as default};
