import{O as g,i as A,p as c,o as r,d as a,b as s,w as o,e as d,a as t,k as C,q as w,F as m,f as b,t as n}from"./app-BjkeQK_V.js";import{_ as S}from"./AppLayout-BfpUR-_8.js";import{P as D}from"./Pagination-D3BNdIm4.js";import{_ as L}from"./ConfirmationModal-LtHFOSOg.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-BQJW1pNG.js";import"./Modal-5WPsUn51.js";const N={props:{authors:Object,categories:Object,filter_category_id:String},data(_){return{confirmDeleteActive:!1,deleteAuthorRow:"",category_id:_.filter_category_id}},methods:{deleteAuthor(){g.delete(route("author.destroy",this.deleteAuthorRow)),this.confirmDeleteActive=!1},customSearch(){g.get(route("author.index"),{category_id:this.category_id},{preserveState:!0,preserveScroll:!0})}},components:{Link:A,AppLayout:S,Pagination:D,ConfirmationModal:L}},E=t("p",null,"¿Seguro que quieres eliminar el autor?",-1),O=t("div",{class:"mr-3"},null,-1),V={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},q={class:"container mt-5"},B={class:"card"},P={class:"card-body"},R=t("h2",{class:"mb-2 text-xl font-semibold text-gray-900 dark:text-white"},"Autores",-1),j={class:"mb-2"},F=t("option",{value:null},"-",-1),M=["value"],T={key:0},U={class:"w-full border"},z=t("thead",{class:"bg-gray-200"},[t("tr",{class:"border-b"},[t("th",{class:"p-3"},"ID"),t("th",{class:"p-3"},"Imagen"),t("th",{class:"p-3"},"Nombre"),t("th",{class:"p-3"},"Descripcion"),t("th",{class:"p-3"},"Prompt"),t("th",{class:"p-3"},"Categoria"),t("th",{class:"p-3"},"Subcategoria"),t("th",{class:"p-3"},"#")])],-1),G={class:"p-2"},H={class:"p-2"},J=["src"],K={class:"p-2 font-bold"},Q={class:"p-2"},W={class:"p-2"},X={class:"p-2"},Y={class:"p-2"},Z={class:"p-2"},$=["onClick"],tt={key:1},et=t("div",{class:"bg-orange-100 border-l-4 border-orange-500 text-orange-700 p-4",role:"alert"},[t("p",null,"No hay autores")],-1),ot=[et];function st(_,i,u,rt,l,h){const p=c("o-button"),v=c("confirmation-modal"),y=c("InputLabel"),f=c("Link"),x=c("pagination"),k=c("AppLayout");return r(),a(m,null,[s(v,{show:l.confirmDeleteActive},{title:o(()=>[d(" Confirme la acción ")]),content:o(()=>[E]),footer:o(()=>[s(p,{variant:"danger",onClick:h.deleteAuthor},{default:o(()=>[d("Eliminar")]),_:1},8,["onClick"]),O,s(p,{onClick:i[0]||(i[0]=e=>l.confirmDeleteActive=!1)},{default:o(()=>[d("Cancelar")]),_:1})]),_:1},8,["show"]),s(k,null,{default:o(()=>[t("div",V,[t("div",q,[t("div",B,[t("div",P,[R,t("div",j,[s(y,{for:""},{default:o(()=>[d("Categoría")]),_:1}),C(t("select",{onChange:i[1]||(i[1]=(...e)=>h.customSearch&&h.customSearch(...e)),class:"rounded-md w-full border-gray-300","onUpdate:modelValue":i[2]||(i[2]=e=>l.category_id=e)},[F,(r(!0),a(m,null,b(u.categories,e=>(r(),a("option",{key:e.id,value:e.id},n(e.title),9,M))),128))],544),[[w,l.category_id]])]),s(f,{class:"link-button-default mb-3 hover:text-gray-100",href:_.route("author.create")},{default:o(()=>[d("Crear")]),_:1},8,["href"]),u.authors.data.length>0?(r(),a("div",T,[t("table",U,[z,t("tbody",null,[(r(!0),a(m,null,b(u.authors.data,e=>(r(),a("tr",{class:"border-b",key:e.id},[t("td",G,n(e.id),1),t("td",H,[t("img",{class:"h-16 w-16 rounded-full",src:"/image/author/"+e.image},null,8,J)]),t("td",K,n(e.name),1),t("td",Q,n(e.description),1),t("td",W,n(e.system_prompt),1),t("td",X,n(e.category.title),1),t("td",Y,n(e.subcategory),1),t("td",Z,[s(f,{as:"button",class:"text-sm text-purple-400 hover:text-purple-700 mx-2",href:_.route("author.edit",e.id)},{default:o(()=>[d("Editar")]),_:2},1032,["href"]),t("button",{class:"text-sm text-red-400 hover:text-red-700 mx-2",onClick:at=>{l.confirmDeleteActive=!0,l.deleteAuthorRow=e.id}},"Eliminar",8,$)])]))),128))])]),s(x,{links:u.authors},null,8,["links"])])):(r(),a("div",tt,ot))])])])])]),_:1})],64)}const ht=I(N,[["render",st]]);export{ht as default};
